graph TD
    classDef actor fill:#0ea5e9,stroke:#0369a1,stroke-width:2px,color:#fff
    classDef process fill:#8b5cf6,stroke:#6d28d9,stroke-width:2px,color:#fff
    classDef data fill:#22c55e,stroke:#15803d,stroke-width:2px,color:#fff

    P0[Community Proposers<br/>verified members]
    P1[Proposal Draft<br/>YAML/JSON schema]
    P2[On-chain Submission<br/>via Governance Contract]
    P3[Review Window<br/>time-locked]
    P4[Weighted Voting<br/>based on participation score]
    P5[Threshold Evaluation<br/>quorum plus supermajority]
    P6[Execution Queue<br/>UTXO with intent]
    P7[Treasury Policy Update]
    P8[Savings Cycle Parameter Update]
    P9[Audit Trail<br/>immutable metadata]

    P0 --> P1
    P1 -->|Signed by multisig stewards| P2
    P2 --> P3
    P3 --> P4
    P4 --> P5
    P5 -->|Meets thresholds| P6
    P5 -->|Fails thresholds| P9
    P6 -->|Invoker script| P7
    P6 -->|Invoker script| P8
    P7 --> P9
    P8 --> P9

    class P0 actor
    class P1,P2,P3,P4,P5,P6 process
    class P7,P8,P9 data

