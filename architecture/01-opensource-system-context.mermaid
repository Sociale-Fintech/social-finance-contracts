graph TB
    %% Groupings
    subgraph "Community Wallet Layer"
        W1[Member Wallets<br/>CIP-30 compatible]
        W2[Treasury Stewards<br/>multisig participants]
    end

    subgraph "Cardano Settlement Layer"
        C2[Cardano Node / API Endpoint]
        C1[(Cardano Ledger)]
    end

    subgraph "Open-Source Smart Contract Suite"
        T[Treasury Contract<br/>multi-asset vault]
        S[Savings Cycle Contract<br/>rotation logic]
        G[Governance Contract<br/>weighted voting]
        U[Utility Libraries<br/>validators & helpers]
    end

    subgraph "Developer Enablement"
        Tooling[Aiken Compiler<br/>+ Lucid Scripts]
        Deploy[Deployment Scripts<br/>(testnet & mainnet)]
        Tests[Unit & Integration Tests<br/>90% coverage goal]
        Docs[Architecture & API Documentation]
    end

    %% Interactions
    W1 -->|Contributions & withdrawals| T
    W2 -->|Policy proposals| G
    G -->|Approved parameter updates| T
    G -->|Cycle governance signals| S
    T -->|Funding instructions| S
    S -->|Payout commands| T
    T -->|Validated transactions| C2
    S -->|State checkpoints| C2
    G -->|Governance transactions| C2
    C2 -->|Final settlement| C1

    %% Developer enablement links
    Tooling --> T
    Tooling --> S
    Tooling --> G
    U --> T
    U --> S
    U --> G
    Tests --> T
    Tests --> S
    Tests --> G
    Deploy --> C2
    Docs --> Tooling
    Docs --> Tests
    Docs --> Deploy

    %% Styling
    classDef wallet fill:#0ea5e9,stroke:#0369a1,stroke-width:2px,color:#fff
    classDef ledger fill:#22c55e,stroke:#15803d,stroke-width:2px,color:#fff
    classDef contract fill:#8b5cf6,stroke:#6d28d9,stroke-width:2px,color:#fff
    classDef enablement fill:#f97316,stroke:#c2410c,stroke-width:2px,color:#fff

    class W1,W2 wallet
    class C1,C2 ledger
    class T,S,G,U contract
    class Tooling,Deploy,Tests,Docs enablement

